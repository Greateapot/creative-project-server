# Серверная часть творческой работы

## Параметры запуска сервера

### `--local-ip`
Обязательный параметр: да.

Описание:
- Локальный айпи устройства, на котором запускается сервер.

### `--port`
Обязательный параметр: нет.

Стандартное значение: `8097`.

Описание:
- Порт, который будет слушать сервер.

### `--scan-timeout`
Обязательный параметр: нет.

Стандартное значение: `500`.

Описание:
- Время ожидания ответа от другого устройства в сети при сканировании других серверов онлайн.

### `--scan-threads`
Обязательный параметр: нет.

Стандартное значение: `4`.

Описание:
- Количество потоков, используемых при сканировании других серверов онлайн.
### `--data-filename`
Обязательный параметр: нет.

Стандартное значение: `data.json`.

Описание:
- Название файла, в котором будут храниться все сохраненные объекты.
### `--corr-file-ext`
Обязательный параметр: нет.

Стандартное значение: `.crp`.

Описание:
- Расширение файла, которое будет добавлено хранящему объекты файлу в случае его повреждения.



## API
lip-lock - запрос может делать только хост.

### `/get`
Поля:
- `title` (`string`) - название запрашиваемого объекта.

Описание:
- Получить данные в зависимости от типа запрашиваемого объекта.

Вернёт:
- (Если папка) список файлов в папке (WIP),
- (Если файл) ничего, файл будет послан в теле ответа,
- (Если ссылка) ссылку (`models.Link`).

### `/list`
Описание:
- Получить список сохраненных объектов. Если запрос делает хост, объекты так же будут содержать ссылку/пути до файла/папки.

Вернёт:
- `models.Items`

### `/add` (lip-lock)
Поля:
- `path` - ссылка/путь до файла/папки,
- `title` - название нового объекта (не должно повторятся),
- `type` - тип объекта (папка/файл/ссылка).

Описание:
- Добавить новый объект в базу данных.

Вернёт:
- Ничего

### `/del` (lip-lock)
Поля:
- title (string) - название удаляемого объекта.

Описание:
- Удаляет объект(-ы) из базы данных.

Вернет:
- Ничего.

### `/online` (lip-lock)
Описание:
- Возвращает список других серверов онлайн.

Вернёт:
- Ничего.

### `/shutdown` (lip-lock)
Описание:
- Завершает работу сервера.

Вернёт:
- Ничего.

## Виды ошибок
1. Err...? - Затычка для странной логики,
2. Access Denied - Доступ закрыт,
3. No required field in request query - Нет нужного поля в запросе,
4. Item already exists - Объект уже существует,
5. Item not exists - Объект не существует,
6. Cant't send file - Не удалось отправить файл,
7. WIP